<f:if condition="{post}">
    <f:if condition="{settings.comments.active}">
        <f:if condition="{post.commentsActive}">
            <f:then>
                <h3 class="comment-title"><f:translate key="headline.commentform" /></h3>
                <f:render partial="General/FlashMessages" />
                <f:render partial="General/FormErrors" arguments="{_all}" />

                <f:form action="addComment" name="comment" object="{comment}" pageUid="">
                    <f:form.hidden name="post" value="{post}" />
                    <div class="form-group">
                        <label for="author"><f:translate key="form.comment.name" /></label>
                        <f:form.textfield id="author" property="name" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="email"><f:translate key="form.comment.email" /></label>
                        <f:form.textfield id="email" property="email" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="url"><f:translate key="form.comment.url" /></label>
                        <f:form.textfield id="url" property="url" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="comment"><f:translate key="form.comment.comment" /></label>
                        <f:form.textarea id="comment" property="comment" class="form-control" />
                    </div>
                    <f:form.submit name="submit"  class="btn btn-primary" value="{f:translate(key: 'form.comment.submit')}" />
                </f:form>
            </f:then>
            <f:else>
                <h3 class="comment-title"><f:translate key="headline.commentform" /></h3>
                <p><f:translate key="message.comments_closed" /></p>
            </f:else>
        </f:if>
    </f:if>
</f:if>
